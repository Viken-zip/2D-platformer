(()=>{"use strict";var e={304:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tileSize=t.canvas=void 0;var o=n(806);n(912);var r=n(912);t.canvas=document.getElementById("canvas");var i=t.canvas.getContext("2d");i&&(i.imageSmoothingEnabled=!1);var a=document.getElementById("topBar");document.getElementById("canvasContainer"),t.tileSize=(innerHeight-a.clientHeight)/30,t.canvas.width=1e3*t.tileSize,t.canvas.height=30*t.tileSize,(0,r.initCursor)(t.canvas,i),(0,o.drawGrid)(i,t.tileSize,1e3,30)},489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.drawBlock=t.newBlock=t.removeBlock=void 0;var o=n(304);(new Image).src="./sprites/brick.png";var r=[],i=function(e,t,n,o,r){this.x=e,this.y=t,this.w=n,this.h=o,this.type=r};function a(e,t){for(var n=0;n<r.length;n++)r[n].x==e&&r[n].y==t&&r.splice(n,1)}function c(e,t,n,r){var i=new Image;i.src="./sprites/".concat(r,".png"),i.onload=function(){null==e||e.drawImage(i,t*o.tileSize,n*o.tileSize,o.tileSize,o.tileSize)}}t.removeBlock=a,t.newBlock=function(e,t,n,o){var l,s=new i(t,n,1,1,o),u=function(e,t){for(var n=0;n<r.length;n++)if(console.log(n),r[n].x==e&&r[n].y==t)return console.log("match!"),{taken:!0,takenBlock:r[n]};return{taken:!1}}(t,n);u.taken?u.taken&&(null===(l=u.takenBlock)||void 0===l?void 0:l.type)!=o&&(console.log("replace"),a(t,n),r.push(s),c(e,t,n,o)):(console.log("non att all"),r.push(s),c(e,t,n,o)),console.log(r)},t.drawBlock=c},806:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.drawGrid=void 0;var n=new Image;n.src="./sprites/grid.png",t.drawGrid=function(e,t,o,r){n.onload=function(){for(var i=0;i<r;i++)for(var a=0;a<o;a++)null==e||e.drawImage(n,a*t,i*t,t,t)}}},912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initCursor=t.cursor=t.Cursor=void 0;var o=n(304),r=n(489),i=function(e,t){this.x=e,this.y=t};t.Cursor=i,t.cursor=new i(0,0),t.initCursor=function(e,n){e.addEventListener("mousedown",(function(){(0,r.newBlock)(n,t.cursor.x,t.cursor.y,"brick")})),e.addEventListener("mousemove",(function(n){var r,i,a=e.getBoundingClientRect(),c=(r=n.pageX-a.left,i=n.pageY-a.top,{x:Math.ceil(r/o.tileSize)-1,y:Math.ceil(i/o.tileSize)-1});t.cursor.x=c.x,t.cursor.y=c.y}))}}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(304)})();